{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "TODO:addurltoTRIAschema",
  "title": "TRIA tree metadata schema",
  "description": "Schema for ...",
  "type": "array",
  "minItems": 1,
  "items": {
    "type": "object",
    "properties": {
      "tree_label": {
        "type": "string",
        "minLength": 1,
        "readOnly": true,
        "title": "Tree code",
        "description": "Identifying code for the tree (generated)"
      },
      "site_label": {
        "type": "string",
        "minLength": 1,
        "readOnly": true,
        "title": "Site code",
        "description": "Site to which the tree belongs"
      },
      "n_woodpieces": {
        "type": ["integer", "null"],
        "minimum": 1,
        "readOnly": true,
        "title": "Nr of pieces",
        "description": "Nr. of woodpieces collected from each tree"
      },
      "species_code": {
        "type": "string", 
        "pattern": "^[A-Z]{4}$",
        "title": "Species code",
        "description": "Based on ITRDB species code list"
      },
      "species_name": {
        "type": "string",
        "minLength": 1,
        "title": "Species",
        "description": "",
        "htType": "autocomplete",
        "otherChecks": ["check_speciescode"]
      },
      "phylogenetic_group": {
        "type": ["string", "null"],
        "enum": ["", "gymnosperm", "angiosperm"],
        "title": "Phylogenetic group",
        "description": "The type of wood of the tree, indicating whether it is hardwood or softwood"
      },
      "leaf_habit": {
        "type": ["string", "null"],
        "enum": ["", "evergreen", "deciduous", "mixed"],
        "title": "Leaf habit",
        "description": "The habit or nature of the tree's leaves, whether deciduous or evergreen"
      },
      "tree_ring_structure": {
        "type": ["string", "null"],
        "enum": ["", "non-porous", "diffuse-porous", "ring-porous"],
        "title": "Ring structure",
        "description": "Type of tree-ring structure"
      },
      "tree_treatment": {
        "type": ["string", "null"],
        "enum": ["", "none", "pruning", "thinning", "water exclusion", "watering", "heating", 
          "cooling", "fertilization", "girdling", "other treatments"],
        "title": "Treatment",
        "description": "Indicates if the tree has been manipulated"
      },
      "tree_dbh": {
        "type": ["number", "null"],
        "minimum": 0,
        "maximum": 500,
        "unit": "cm",
        "title": "DBH",
        "description": "Diameter at 1.3 meters above ground (in cm)"
      },
      "tree_height": {
        "type": ["number", "null"],
        "minimum": 0,
        "maximum": 120,
        "unit": "m",
        "title": "Height",
        "description": "Total height of the tree from the base to the topmost point (in m)"
      },
      "tree_age": {
        "type": ["integer", "null"],
        "title": "Age",
        "description": "The age of the tree (in years)",
        "minimum": 0,
        "maximum": 5000
      },
      "tree_sex": {
        "type": ["string", "null"],
        "enum": ["", "male", "female", "both", "unknown"],
        "title": "Sex",
        "description": "Sex of the tree (if applicable, e.g., dioecious species)"
      },
      "tree_social_status": {
        "type": ["string", "null"],
        "enum": ["", "dominant", "co-dominant", "suppressed"],
        "title": "Social status",
        "description": "Social status of the tree"         
      },
      "tree_health_status": {
        "type": ["string", "null"],
        "enum": ["", "healthy", "declining", "dying", "dead"],
        "title": "Health condition",
        "description": "Health condition of the tree"
      },
      "tree_origin": {
        "type": ["string", "null"],
        "enum": ["", "planted", "natural regeneration", "potted", "coppiced", "grafted", "cloned"],
        "title": "Plant origin",
        "description": "Origin of the tree plant"
      },
      "wood_origin": {
        "type": ["string", "null"],
        "enum": ["", "living", "subfossil soil", "subfossil lake", "subfossil river", 
          "subfossil glacier", "dry deadwood", "construction"],
        "title": "Wood origin",
        "description": "Origin of the wood material"
      },
      "tree_latitude": {
        "type": ["number", "null"],
        "minimum": -90,
        "maximum": 90,
        "unit": "degrees",
        "title": "Latitude",
        "description": "Latitude of the tree in decimal degrees (WGS84)"
      },
      "tree_longitude": {
        "type": ["number", "null"],
        "minimum": -180,
        "maximum": 180,
        "unit": "degrees",
        "title": "Longitude",
        "description": "Longitude of the tree in decimal degrees (WGS84)"            
      },
      "tree_comment": {
        "type": ["string", "null"],
        "title": "Comments",
        "description": "Any additional comments regarding the tree"
      }
    },
    "required": ["tree_label", "site_label", "species_code", "species_name"],
    "additionalProperties": false
  }
}
